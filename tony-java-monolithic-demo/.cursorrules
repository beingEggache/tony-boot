# Web é¡¹ç›®å¼€å‘è§„èŒƒ

---
## è§„åˆ™ç­‰çº§è¯´æ˜
- ğŸ”´ **å¿…é¡»**ï¼šé¡¹ç›®å¼ºåˆ¶è¦æ±‚ã€‚
- ğŸŸ¡ **å»ºè®®**ï¼šæ¨èéµå¾ªï¼Œæé«˜ä»£ç è´¨é‡ã€‚
- ğŸŸ¢ **å¯é€‰**ï¼šæ ¹æ®é¡¹ç›®éœ€è¦é€‰æ‹©ã€‚
---
## 1. é¡¹ç›®æ¦‚è¿°

---
###  æ ¸å¿ƒç‰¹ç‚¹
- **ç»Ÿä¸€è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ªæœ¬æ–‡æ¡£å®šä¹‰çš„å¼€å‘è§„çº¦ã€‚
- **æ¨¡å—åŒ–æ¶æ„**ï¼šAPIã€Serviceã€DTOã€DAOã€PO ç­‰åˆ†å±‚è®¾è®¡ã€‚
---
###  å ä½ç¬¦è§„èŒƒ

| å ä½ç¬¦             | è¯´æ˜                             | ç¤ºä¾‹                                      |
|-----------------|--------------------------------|-----------------------------------------|
| `{company}`     | å…¬å¸/ç»„ç»‡åï¼ˆå…¨å°å†™ï¼‰                    | `tony`                                  |
| `{projectName}` | é¡¹ç›®åï¼ˆå°å†™é©¼å³°ï¼‰                      | `demo`                                  |
| `{ProjectName}` | é¡¹ç›®åï¼ˆå¤§å†™é©¼å³°ï¼‰                      | `Demo`ã€`byteDance`                      |
| `{module}`      | æ¨¡å—åï¼ˆå…¨å°å†™ï¼‰                       | `sys`ã€`housemanage`                     |
| `{Module}`      | æ¨¡å—åï¼ˆé¦–å¤§å†™ï¼‰                       | `Sys`ã€`houseManage`                     |
| `{entity}`      | å®ä½“ç±»åï¼ˆå°å†™é©¼å³°ï¼‰                     | `employee`ã€`saleOrder`                  |
| `{Entity}`      | å®ä½“ç±»åï¼ˆå¤§å†™é©¼å³°ï¼‰                     | `Employee`ã€`SaleOrder`                  |
| `{table}`       | æ•°æ®åº“è¡¨åï¼ˆå…¨å°å†™æ¨¡å—å+å°å†™snake_caseå®ä½“ç±»åï¼‰ | `sys_employee`ã€`housemanage_sale_order` |
---

## 2. é¡¹ç›®ç»“æ„è§„èŒƒ

---
###  æ ‡å‡†æ¨¡å—ç»“æ„
```
{project-name}/
â”œâ”€â”€ {company}-api/              # Web å±‚ï¼šæ§åˆ¶å™¨ã€é…ç½®ã€å¯åŠ¨ç±»ã€Docker æ–‡ä»¶
â”œâ”€â”€ {company}-service/          # ä¸šåŠ¡å±‚ï¼šæœåŠ¡å®ç°ã€DAOã€PO
â”œâ”€â”€ {company}-dto/              # æ•°æ®ä¼ è¾“ï¼šè¯·æ±‚/å“åº”/æŸ¥è¯¢ DTOã€æšä¸¾
â”œâ”€â”€ {company}-sdk/              # æ¥å£å±‚ï¼šæœåŠ¡æ¥å£ï¼ˆğŸŸ¡ å½“ä½¿ç”¨å¾®æœåŠ¡æ¶æ„éœ€è¦å¯¹å¤–æä¾›æ¥å£jaråŒ…æ—¶, è¯·é€‰æ‹©æ¥å£ä¸å®ç°åˆ†ç¦»ã€‚ï¼‰
â”œâ”€â”€ db/                         # æ•°æ®åº“è„šæœ¬
â”œâ”€â”€ build.gradle.kts            # æ ¹é¡¹ç›®æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle.kts         # é¡¹ç›®è®¾ç½®æ–‡ä»¶
â”œâ”€â”€ gradle.properties           # Gradle å±æ€§é…ç½®
â”œâ”€â”€ gradlew                     # Gradle Wrapper (Unix)
â”œâ”€â”€ gradlew.bat                 # Gradle Wrapper (Windows)
â”œâ”€â”€ gradle/                     # Gradle Wrapper ç›®å½•
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ .editorconfig               # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .gitattributes              # Git å±æ€§é…ç½®
â””â”€â”€ dockerBuild.sh              # Docker æ„å»ºè„šæœ¬
```
---
###  æ ¸å¿ƒæ–‡ä»¶ç»“æ„

####  API æ¨¡å—æ–‡ä»¶
```
{company}-api/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/{company}/{projectName}/
â”‚   â”‚   â”œâ”€â”€ {ProjectName}WebApp.java           # ä¸»åº”ç”¨å¯åŠ¨ç±»
â”‚   â”‚   â”œâ”€â”€ config/                          # é…ç½®ç±»åŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ {ProjectName}WebConfig.java    # Web é…ç½®ç±»
â”‚   â”‚   â”‚   â””â”€â”€ {ProjectName}WebContext.java   # Web ä¸Šä¸‹æ–‡å¸¸é‡ï¼ˆå¯é€‰ï¼‰
â”‚   â”‚   â””â”€â”€ {module}/                        # ä¸šåŠ¡æ¨¡å—åŒ…
â”‚   â”‚       â””â”€â”€ controller/                  # æ§åˆ¶å™¨åŒ…
â”‚   â”‚           â””â”€â”€ {Module}Controller.java    # æ§åˆ¶å™¨ç±»
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.yml                  # ä¸»é…ç½®æ–‡ä»¶
â”‚       â””â”€â”€ logback-spring.xml               # æ—¥å¿—é…ç½®
â”œâ”€â”€ Dockerfile                               # Docker é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml                       # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ docker-entrypoint.sh                     # Docker å¯åŠ¨è„šæœ¬
â””â”€â”€ build.gradle.kts                         # æ¨¡å—æ„å»ºé…ç½®
```
---
####  Service æ¨¡å—æ–‡ä»¶
```
{company}-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/{company}/{projectName}/
â”‚   â”‚   â””â”€â”€ {module}/                        # ä¸šåŠ¡æ¨¡å—åŒ…
â”‚   â”‚       â”œâ”€â”€ service/                     # æœåŠ¡åŒ…
â”‚   â”‚       â”‚   â””â”€â”€ impl/                    # æœåŠ¡å®ç°åŒ…
â”‚   â”‚       â”‚       â””â”€â”€ {Module}Service.java   # æœåŠ¡å®ç°ç±»
â”‚   â”‚       â”œâ”€â”€ dao/                         # æ•°æ®è®¿é—®åŒ…
â”‚   â”‚       â”‚   â””â”€â”€ {Module}Dao.java           # æ•°æ®è®¿é—®æ¥å£
â”‚   â”‚       â””â”€â”€ po/                          # æŒä¹…åŒ–å¯¹è±¡åŒ…
â”‚   â”‚           â””â”€â”€ {Entity}.java              # æŒä¹…åŒ–å¯¹è±¡ç±»
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ mappers/                         # MyBatis æ˜ å°„æ–‡ä»¶ç›®å½•
â”‚           â””â”€â”€ {Module}Dao.xml              # SQL æ˜ å°„æ–‡ä»¶
â””â”€â”€ build.gradle.kts                         # æ¨¡å—æ„å»ºé…ç½®
```
---
####  DTO æ¨¡å—æ–‡ä»¶
```
{company}-dto/
â”œâ”€â”€ src/main/
â”‚   â””â”€â”€ java/{company}/{projectName}/
â”‚       â””â”€â”€ {module}/                        # ä¸šåŠ¡æ¨¡å—åŒ…
â”‚           â””â”€â”€ dto/                         # DTO åŒ…
â”‚               â”œâ”€â”€ req/                     # è¯·æ±‚ DTO åŒ…
â”‚               â”‚   â””â”€â”€ {Entity}AddReq.java    # è¯·æ±‚ DTO ç±»
â”‚               â”œâ”€â”€ resp/                    # å“åº” DTO åŒ…
â”‚               â”‚   â””â”€â”€ {Entity}Resp.java      # å“åº” DTO ç±»
â”‚               â”œâ”€â”€ query/                   # æŸ¥è¯¢ DTO åŒ…
â”‚               â”‚   â””â”€â”€ {Entity}Query.java     # æŸ¥è¯¢ DTO ç±»
â”‚               â””â”€â”€ enums/                   # æšä¸¾åŒ…
â”‚                   â””â”€â”€ {BusinessConcept}Enum.java # æšä¸¾ç±»
â””â”€â”€ build.gradle.kts                         # æ¨¡å—æ„å»ºé…ç½®
```
---
####  SDK æ¨¡å—æ–‡ä»¶ï¼ˆğŸŸ¡ å½“ä½¿ç”¨å¾®æœåŠ¡æ¶æ„éœ€è¦å¯¹å¤–æä¾›æ¥å£jaråŒ…æ—¶, è¯·é€‰æ‹©æ¥å£ä¸å®ç°åˆ†ç¦»ã€‚ï¼‰
```
{company}-sdk/
â”œâ”€â”€ src/main/
â”‚   â””â”€â”€ java/{company}/{projectName}/
â”‚       â””â”€â”€ {module}/                        # ä¸šåŠ¡æ¨¡å—åŒ…
â”‚           â””â”€â”€ service/                     # æœåŠ¡æ¥å£åŒ…
â”‚               â””â”€â”€ I{Module}Service.java      # æœåŠ¡æ¥å£ç±»
â””â”€â”€ build.gradle.kts                         # æ¨¡å—æ„å»ºé…ç½®
```
---
####  æ•°æ®åº“è„šæœ¬æ–‡ä»¶
```
db/
â”œâ”€â”€ db.init.mysql.sql                        # åˆå§‹åŒ–ç”¨æˆ·ã€æ•°æ®åº“ï¼ˆMySQLï¼‰
â”œâ”€â”€ db.init.table.mysql.sql                  # åˆå§‹åŒ–è¡¨ç»“æ„ï¼ˆMySQLï¼‰
â””â”€â”€ db.init.data.mysql.sql                   # åˆå§‹åŒ–æ•°æ®ï¼ˆMySQLï¼‰
```
---

## 3. æ ¸å¿ƒå¼€å‘è§„èŒƒ

---
###  æ³¨é‡Šè§„èŒƒ
ğŸ”´ æ‰€æœ‰å…¬å…±ç±»ã€æ¥å£ã€æ–¹æ³•ã€å±æ€§ã€å˜é‡å¿…é¡»æœ‰æ³¨é‡Šã€‚

```java
/**
 * åŠŸèƒ½æè¿°
 * è¯¦ç»†è¯´æ˜/ä½¿ç”¨åœºæ™¯
 *
 * @param paramName å‚æ•°è¯´æ˜
 * @return è¿”å›å€¼è¯´æ˜
 * @throws ExceptionType å¼‚å¸¸è¯´æ˜
 * @author ä½œè€…
 * @date 2025/07/04 14:00 ï¼ˆæ­¤å¤„ä¸ºç”Ÿæˆæ—¶ç³»ç»Ÿæ—¶é—´ï¼‰
 */
```
---
###  å¯¼å…¥è§„èŒƒ
ğŸ”´ ç¦æ­¢é€šé…ç¬¦å¯¼å…¥ï¼Œæ‰€æœ‰å¯¼å…¥å¿…é¡»ä¸ºæ˜¾å¼å¯¼å…¥ã€‚

```java
import java.util.UUID;
import org.springframework.util.AntPathMatcher;
// âŒ import java.util.*;  // ç¦æ­¢
```
---

###  æšä¸¾è§„èŒƒ
ğŸ”´ æšä¸¾å€¼å‘½åå…¨å¤§å†™, æ‰€æœ‰æšä¸¾å®ç°ç»Ÿä¸€æ¥å£ï¼Œæ”¯æŒé»˜è®¤å€¼ã€‚

```java
@Schema(description = "çŠ¶æ€æšä¸¾")
public enum StatusEnum implements IntEnumValue {
    ENABLED(1),
    DISABLED(0),
    @JsonEnumDefaultValue
    UNUSED(DEFAULT_INT_VALUE);

    private final int value;
    StatusEnum(int value) { this.value = value; }
    @Override public int getValue() { return value; }

    @JsonCreator
    public static StatusEnum create(int value) { /* ... */ }
}
```
```java
@Schema(description = "æ€§åˆ«æšä¸¾")
public enum GenderEnum implements StringEnumValue {
    MALE("MALE"),
    FEMALE("FEMALE"),
    @JsonEnumDefaultValue
    UNUSED(DEFAULT_STRING_VALUE);

    private final String value;
    GenderEnum(String value) { this.value = value; }
    @Override public String getValue() { return value; }

    @JsonCreator
    public static GenderEnum create(String value) { /* ... */ }
}
```

ğŸ”´ ä¸šåŠ¡å­—æ®µä½¿ç”¨æšä¸¾ç±»å‹ï¼Œç¦æ­¢ä½¿ç”¨åŸå§‹ç±»å‹ã€‚

```java
// âœ… æ­£ç¡®
public StatusEnum status = StatusEnum.ENABLED;
public GenderEnum gender = GenderEnum.MALE;

// âŒ é”™è¯¯
public int status = 1;
public String status = "MALE";
```
---

## 4. æ•°æ®å±‚è§„èŒƒ

---
###  å®ä½“ç±»è§„èŒƒ
- ğŸ”´ ä½¿ç”¨ MyBatis-Plus æ³¨è§£ï¼ŒåŒ…å«å®¡è®¡å­—æ®µã€‚
- ğŸ”´ å­—æ®µé¡ºåºï¼ˆä¸»é”®ã€å¤–é”®(å…¶ä»–è¡¨ä¸»é”®id)ã€ä¸šåŠ¡å­—æ®µã€å®¡è®¡å­—æ®µï¼‰ã€‚
- ğŸ”´ PO ç±»æ¨èä½¿ç”¨ Lombok `@Getter @Setter`ã€‚

```java
@Getter
@Setter
@TableName("{table}")
public class {Entity} {
    @TableId
    private String {entity}Id;

    // ä¸šåŠ¡å­—æ®µ...

    @OrderBy
    @TableField(insertStrategy = FieldStrategy.NEVER, updateStrategy = FieldStrategy.NEVER)
    private LocalDateTime createTime = LocalDateTime.now();

    @MybatisPlusMetaProperty(MetaColumn.USER_ID)
    @TableField(fill = FieldFill.INSERT, updateStrategy = FieldStrategy.NEVER)
    private String creatorId = "";

    @MybatisPlusMetaProperty(MetaColumn.USER_NAME, relativeProp = "creatorId")
    @TableField(fill = FieldFill.INSERT, updateStrategy = FieldStrategy.NEVER)
    private String creatorName = "";

    @TableField(insertStrategy = FieldStrategy.NEVER, updateStrategy = FieldStrategy.NEVER, update = "CURRENT_TIMESTAMP")
    private LocalDateTime updateTime = LocalDateTime.now();

    @TableField(fill = FieldFill.UPDATE, insertStrategy = FieldStrategy.NEVER, updateStrategy = FieldStrategy.NEVER)
    private String updatorId = "";

    @TableField(fill = FieldFill.UPDATE, insertStrategy = FieldStrategy.NEVER, updateStrategy = FieldStrategy.NEVER)
    private String updatorName = "";

    @TableLogic
    private LocalDateTime deleteTime;

    @TableField(fill = FieldFill.INSERT, updateStrategy = FieldStrategy.NEVER)
    private String tenantId = "";
}
```
---
###  æ•°æ®åº“è¡¨è§„èŒƒ
- ğŸ”´ è¡¨å­—æ®µé¡ºåºï¼ˆä¸»é”®ã€å¤–é”®(å…¶ä»–è¡¨ä¸»é”®id)ã€ä¸šåŠ¡å­—æ®µã€å®¡è®¡å­—æ®µï¼‰ã€‚
- ğŸ”´ å­—æ®µå‘½åç»Ÿä¸€ä¸ºå°å†™+ä¸‹åˆ’çº¿, è¡¨æ³¨é‡Šã€å­—æ®µæ³¨é‡Šå¿…å¡«ã€‚
```sql
CREATE TABLE `{table}` (
    `{table}_id` varchar(50) NOT NULL COMMENT 'ä¸»é”®',
    -- ä¸šåŠ¡å­—æ®µ...
    `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `creator_id` varchar(32) NOT NULL DEFAULT '' COMMENT 'åˆ›å»ºäºº',
    `creator_name` varchar(30) NOT NULL DEFAULT '' COMMENT 'åˆ›å»ºäººåç§°',
    `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `updator_id` varchar(32) NOT NULL DEFAULT '' COMMENT 'æ›´æ–°äºº',
    `updator_name` varchar(30) NOT NULL DEFAULT '' COMMENT 'æ›´æ–°äººåç§°',
    `delete_time` timestamp NULL DEFAULT NULL COMMENT 'åˆ é™¤æ ‡è®°',
    `tenant_id` varchar(32) NOT NULL DEFAULT '' COMMENT 'ç§Ÿæˆ·id',
    PRIMARY KEY (`{table}_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='{è¡¨è¯´æ˜}';
```
- ğŸ”´ ä¸»é”®ç´¢å¼•ï¼š`PRIMARY KEY ({field})`ã€‚
- ğŸ”´ å”¯ä¸€ç´¢å¼•ï¼š`UNIQUE KEY uk_{table}_{field}(field)`ã€‚
- ğŸ”´ æ™®é€šç´¢å¼•ï¼š`KEY idx_{table}_{field}(field)`ã€‚
- ğŸ”´ å¤åˆç´¢å¼•ï¼š`KEY idx_{table}_{field1}_{field2}(field1, field2)`ã€‚
---

###  DAO å±‚è§„èŒƒ
- ğŸ”´ ç»§æ‰¿ `tony.mybatis.dao.BaseDao`ï¼Œä½¿ç”¨ XML æ˜ å°„æ–‡ä»¶ã€‚
- ğŸ”´ åœ¨æ¥å£ä¸Šä½¿ç”¨ `@Select`ã€`@Update` ç­‰æ³¨è§£ã€‚

```java
import tony.mybatis.dao.BaseDao;
public interface {Entity}Dao extends BaseDao<{Entity}> {
}
```
---

## 5. ä¸šåŠ¡å±‚è§„èŒƒ

---
###  DTO è§„èŒƒ
- ğŸ”´ è¯·æ±‚({Entity}{Action}Req)/å“åº”({Entity}{Action}Resp)/æŸ¥è¯¢({Entity}{Action}Query) DTO åˆ†ç¦»ï¼Œä½¿ç”¨æ ¡éªŒæ³¨è§£ã€‚
- ğŸ”´ å­—æ®µå…¨éƒ¨åŠ ä¸Š `@Schema` æ³¨è§£ï¼Œä¾¿äºè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ã€‚
- ğŸ”´ å­—æ®µé¡ºåºï¼ˆä¸»é”®ã€å¤–é”®(å…¶ä»–è¡¨ä¸»é”®id)ã€ä¸šåŠ¡å­—æ®µã€å®¡è®¡å­—æ®µï¼‰ã€‚
- ğŸ”´ dto-po, po-dto äº’è½¬å»ºè®®ä½¿ç”¨`tony.utils.Objs.copyTo(targetType: Class<T>)` æ–¹æ³•ã€‚
- ğŸŸ¡ DTO ç±»æ¨èä½¿ç”¨ Lombok `@Getter @Setter`ã€‚

```java
@Getter
@Setter
@Schema(description = "æ–°å¢{Entity}è¯·æ±‚")
public class {Entity}AddReq {
    @NotBlank(message = "å§“åä¸èƒ½ä¸ºç©º")
    @Schema(description = "å§“å", example = "å¼ ä¸‰")
    private String {entity}Name;

    @NotNull(message = "çŠ¶æ€ä¸èƒ½ä¸ºç©º")
    @Schema(description = "çŠ¶æ€")
    private StatusEnum status;
}
```
```java
@Getter
@Setter
@Schema(description = "å‘˜å·¥{Entity}å“åº”")
public class {Entity}Resp {
    @Schema(description = "ID")
    private String {entity}Id;
    @Schema(description = "å§“å")
    private String {entity}Name;
    @Schema(description = "çŠ¶æ€")
    private StatusEnum status;
}
```
```java
@Getter
@Setter
@Schema(description = "å‘˜å·¥æŸ¥è¯¢è¯·æ±‚")
public class {Entity}Query {
    @Schema(description = "å§“åï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰")
    private String {entity}Name;
    @Schema(description = "çŠ¶æ€")
    private StatusEnum status;
}
```
---
###  Service å±‚è§„èŒƒ
- ğŸŸ¡ å½“å¾®æœåŠ¡æ¶æ„éœ€è¦å¯¹å¤–æä¾›æ¥å£jaråŒ…æ—¶, è¯·é€‰æ‹©æ¥å£ä¸å®ç°åˆ†ç¦»ã€‚
- ğŸ”´ å½“æ¥å£é€»è¾‘é‡ŒåŒ…å«å¤šè¡Œ å¢/åˆ /æ”¹é€»è¾‘æ—¶è¯·ä½¿ç”¨äº‹åŠ¡ã€‚
- ğŸ”´ Bean æ³¨å…¥ç”¨ `@RequiredArgsConstructor` + `private final` å­—æ®µã€‚

####  æœ‰ SDK å±‚çš„æƒ…å†µ

```java
// SDK å±‚æ¥å£
public interface I{Entity}Service {
    String add({Entity}AddReq req);
    {Entity}Resp detail(String {entity}Id);
    PageResult<{Entity}Resp> query(PageQuery<{Entity}Query> req);
}
```
```java
// Service å±‚å®ç°
@Service
@RequiredArgsConstructor
public class {Entity}Service implements I{Entity}Service {
    private final {Entity}Dao {entity}Dao;

    @Override
    public String add({Entity}AddReq req) { /* ... */ }

    @Override
    public EmployeeResp detail(String {entity}Id) { /* ... */ }

    @Override
    public PageResult<{Entity}Resp> query(PageQuery<{Entity}Query> req) { /* ... */ }
}
```
---
####  æ—  SDK å±‚çš„æƒ…å†µ
```java
// ç›´æ¥åœ¨ Service å±‚å®ç°
@Service
@RequiredArgsConstructor
public class {Entity}Service {
    private final {Entity}Dao {entity}Dao;

    public String add({Entity}AddReq req) { /* ... */ }

    public EmployeeResp detail(String {entity}Id) { /* ... */ }

    public PageResult<{Entity}Resp> query(PageQuery<{Entity}Query> req) { /* ... */ }
}
```
---
####  å¼‚å¸¸å¤„ç†è§„èŒƒ
- ğŸ”´ ä¼˜å…ˆä½¿ç”¨`tony.utils.Funcs`ä¸‹çš„å·¥å…·å‡½æ•°æŠ›å‡ºå¼‚å¸¸ã€‚
- ğŸ”´ æ‰€æœ‰ä¸šåŠ¡å¼‚å¸¸æŠ›å‡º `tony.exception.BizException`ã€‚
- ğŸ”´ **ç¦æ­¢**ï¼šç›´æ¥æŠ›å‡º `RuntimeException`æˆ–å…¶ä»–`Exception`çš„å­ç±»ã€‚
```java
// âœ… æ­£ç¡®
// å·¥å…·å‡½æ•°ç¤ºä¾‹
Funcs.throwIfNull(value, "å€¼ä¸èƒ½ä¸ºç©º");
Funcs.throwIfTrue(condition, "æ¡ä»¶ä¸æ»¡è¶³");
throw new BizException("ä¸šåŠ¡å¼‚å¸¸");

// âŒ é”™è¯¯
throw new RuntimeException("ä¸šåŠ¡å¼‚å¸¸");
```

**ç¦æ­¢**ï¼šService å®ç°ç±»ç»§æ‰¿ MyBatis-Plus çš„ `ServiceImpl`ã€‚

---
###  Controller è§„èŒƒ
- ğŸ”´ ä½¿ç”¨ `@RestController`ï¼Œè·¯ç”±æ³¨è§£åªæ”¾åœ¨æ–¹æ³•ä¸Šã€‚
- ğŸ”´ ç»Ÿä¸€ä½¿ç”¨ `@PostMapping` + `@RequestBody`ã€‚
- ğŸ”´ æ–¹æ³•å‚æ•°æ ¡éªŒç»Ÿä¸€ä½¿ç”¨ `@Validated`ã€‚
- ğŸ”´ å½“å¼•å…¥`tony-web`ä¾èµ–, è€Œä¸”`web.wrap-response-body-enabled`é…ç½®å€¼ä¸º`true`æ—¶,æ­£å¸¸æƒ…å†µä¸‹ä¼šåŒ…è£…æˆ`ApiResult<T>`ã€‚
- ğŸ”´ åªåšå‚æ•°æ ¡éªŒå’Œè°ƒç”¨ Serviceï¼Œç¦æ­¢å†™ä¸šåŠ¡é€»è¾‘ã€‚
- ğŸ”´ Bean æ³¨å…¥ç”¨ `@RequiredArgsConstructor` + `private final` å­—æ®µã€‚

```java
@RestController
@Tag(name = "{Entity}ç®¡ç†", description = "{Entity}ç›¸å…³æ¥å£")
@RequiredArgsConstructor
public class {Entity}Controller {
    private final {Entity}Service {entity}Service;

    @PostMapping("/add")
    @Operation(summary = "æ–°å¢{entity}", description = "æ–°å¢{entity}ä¿¡æ¯")
    public String add(@Validated @RequestBody {Entity}AddReq req) {
        return employeeService.add(req);
    }

    @PostMapping("/detail")
    @Operation(summary = "æ ¹æ®IDæŸ¥è¯¢", description = "æ ¹æ®IDæŸ¥è¯¢{entity}è¯¦æƒ…")
    public {Entity}Resp detail(@Validated @RequestBody WrappedReq<String> req) {
        return {entity}Service.detail(req.getValue());
    }

    @PostMapping("/query")
    @Operation(summary = "æŸ¥è¯¢{entity}åˆ—è¡¨", description = "åˆ†é¡µæŸ¥è¯¢{etity}åˆ—è¡¨")
    public PageResult<{Entity}Resp> query(@Validated @RequestBody PageQuery<{Entity}Query> req) {
        return {entity}Service.query(req);
    }
}
```
---

## 6. é…ç½®è§„èŒƒ

---
###  Web é…ç½®
ğŸ”´ æ³¨å†Œä¸Šä¸‹æ–‡æ³¨å…¥å™¨ï¼Œæ”¯æŒ DTO å­—æ®µè‡ªåŠ¨æ³¨å…¥ã€‚

```java
@Configuration
public class {ProjectName}WebConfig {
    @Bean
    public UserIdInjector userIdInjector() {
        return new UserIdInjector();
    }
}
```
---
###  è‡ªå®šä¹‰æ³¨å…¥æ³¨è§£
ğŸŸ¡ å°è£…è‡ªå®šä¹‰æ³¨è§£ï¼Œé¿å…æ‰‹å†™å­—ç¬¦ä¸² keyã€‚

```java
@Target(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
@JacksonInject("userId")
public @interface UserIdInject { }
```
---

## 7. å¿«é€Ÿå‚è€ƒ
- âŒ åœ¨ DAO æ¥å£ä½¿ç”¨ `@Select` æ³¨è§£ã€‚
- âŒ Controller ç±»ä¸Šä½¿ç”¨è·¯ç”±æ³¨è§£ã€‚
- âŒ ä½¿ç”¨é€šé…ç¬¦å¯¼å…¥ã€‚
- âŒ å®ä½“ç±»å­—æ®µä½¿ç”¨åŸå§‹ç±»å‹è€Œéæšä¸¾ã€‚
- âŒ è¿åå‘½åè§„èŒƒã€‚
- âœ… ä½¿ç”¨ Lombokã€‚
- âœ… Bean æ³¨å…¥ç”¨ `@RequiredArgsConstructor` + `private final`ã€‚
- âœ… å®Œæ•´çš„å‚æ•°æ ¡éªŒã€‚
- âœ… è§„èŒƒçš„ Swagger æ³¨è§£ã€‚
- âœ… ç±»å‹å®‰å…¨çš„ DTO è®¾è®¡ã€‚
- âœ… æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘åˆ†å±‚ã€‚
- âœ… å®Œæ•´çš„é¡¹ç›®éª¨æ¶æ–‡ä»¶ã€‚

