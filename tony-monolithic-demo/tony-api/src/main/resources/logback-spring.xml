<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <property name="LOG_EXCEPTION_CONVERSION_WORD" value="
    %stack{100,full,full,rootFirst,inlineHash,omitCommonFrames,
    ^jdk\.internal\.reflect,
    ^java\.base\/jdk\.internal\.reflect,
    ^jdk\.proxy,
    ^java\.lang\.reflect,
    ^java\.lang\.invoke,
    ^kotlin\.reflect,
    ^sun\.,
    .*SpringCGLIB.*,
    ^org\.springframework\.aop,
    ^jakarta\.servlet,
    ^io\.undertow,
    ^org\.jboss\.threads,
    ^org\.xnio
    }"/>
<!--    <property name="LOG_EXCEPTION_CONVERSION_WORD" value="-->
<!--    %stack{100,full,full,rootFirst,inlineHash,omitCommonFrames,-->
<!--    ^(?:(?!com\.tony\..*).)*$,-->
<!--    .*SpringCGLIB.*,-->
<!--    }"/>-->
    <include resource="logback-core.xml"/>
    <springProfile name="dev">
        <logger name="trace-logger" level="TRACE" />
        <logger name="request-logger" level="TRACE" />
        <logger name="org.springframework.web" level="DEBUG"/>
    </springProfile>

    <springProfile name="qa,prod">
        <include resource="logback-web.xml"/>
    </springProfile>

    <!-- hide some startup info -->
    <logger name="io.undertow" level="ERROR" additivity="false"/>
    <logger name="org.xnio" level="ERROR" additivity="false"/>
    <logger name="org.jboss.threads" level="ERROR" additivity="false"/>
    <logger name="org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext" level="ERROR" additivity="false"/>
    <logger name="org.springframework.cloud.context.scope.GenericScope" level="ERROR" additivity="false"/>
    <!-- hide info end-->
</configuration>
